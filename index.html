<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy 25th Birthday Kavita! üéÇ</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;600;700&family=Poppins:wght@300;400;500;600&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            overflow-x: hidden;
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%, #fecfef 100%);
            min-height: 100vh;
            position: relative;
        }
        
        /* Love-themed animated background */
        .love-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
            background: 
                radial-gradient(circle at 25% 25%, rgba(255, 182, 193, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 75% 75%, rgba(255, 192, 203, 0.3) 0%, transparent 50%);
        }
        
        .floating-hearts {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }
        
        .heart {
            position: absolute;
            font-size: 20px;
            animation: floatUp 8s linear infinite;
            opacity: 0.7;
        }
        
        @keyframes floatUp {
            0% {
                transform: translateY(100vh) rotate(0deg) scale(0.5);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100px) rotate(360deg) scale(1.2);
                opacity: 0;
            }
        }
        
        .sparkles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }
        
        .sparkle {
            position: absolute;
            color: gold;
            font-size: 16px;
            animation: sparkleFloat 6s linear infinite;
        }
        
        @keyframes sparkleFloat {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-50px) rotate(720deg);
                opacity: 0;
            }
        }
        
        /* Page styles */
        .page {
            position: relative;
            z-index: 2;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            opacity: 0;
            transform: translateY(50px);
            transition: all 0.8s ease;
        }
        
        .page.active {
            opacity: 1;
            transform: translateY(0);
        }
        
        .page.hidden {
            display: none;
        }
        
        /* Welcome card */
        .welcome-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 25px;
            padding: 40px 30px;
            box-shadow: 
                0 20px 60px rgba(255, 105, 135, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.8);
            text-align: center;
            max-width: 400px;
            width: 100%;
            border: 2px solid rgba(255, 182, 193, 0.3);
            position: relative;
        }
        
        .welcome-card::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, #ff6b9d, #c44569, #f8b500, #ff6b9d);
            border-radius: 25px;
            z-index: -1;
            animation: gradientBorder 3s linear infinite;
        }
        
        @keyframes gradientBorder {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .welcome-title {
            font-family: 'Dancing Script', cursive;
            font-size: 3rem;
            font-weight: 700;
            background: linear-gradient(45deg, #ff6b9d, #c44569, #f8b500);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: gradientText 2s ease infinite;
            margin-bottom: 20px;
        }
        
        @keyframes gradientText {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        .welcome-subtitle {
            font-size: 1.2rem;
            color: #666;
            margin-bottom: 30px;
            font-weight: 400;
        }
        
        /* Enhanced buttons */
        .magic-btn {
            background: linear-gradient(45deg, #ff6b9d, #c44569);
            border: none;
            color: white;
            padding: 16px 40px;
            font-size: 1.2rem;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.4s ease;
            box-shadow: 0 10px 30px rgba(255, 107, 157, 0.4);
            font-weight: 600;
            position: relative;
            overflow: hidden;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .magic-btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 15px 40px rgba(255, 107, 157, 0.6);
        }
        
        .magic-btn::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.6s;
        }
        
        .magic-btn:hover::after {
            left: 100%;
        }
        
        /* Cake section */
        .cake-section {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 25px;
            padding: 30px 25px;
            box-shadow: 0 20px 60px rgba(255, 105, 135, 0.3);
            text-align: center;
            max-width: 400px;
            width: 100%;
            border: 2px solid rgba(255, 182, 193, 0.3);
        }
        
        .birthday-wish {
            font-family: 'Dancing Script', cursive;
            font-size: 2.2rem;
            background: linear-gradient(45deg, #ff6b9d, #c44569);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 30px;
            font-weight: 600;
            line-height: 1.2;
        }
        
        /* Enhanced cake design */
        .cake-container {
            position: relative;
            width: 300px;
            height: 280px;
            margin: 20px auto;
            animation: cakeFloat 4s ease-in-out infinite;
        }
        
        @keyframes cakeFloat {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-10px) rotate(1deg); }
        }
        
        .plate {
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 320px;
            height: 30px;
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 50%;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            z-index: 1;
        }
        
        .cake {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            width: 240px;
            height: 150px;
            background: linear-gradient(135deg, #ffb3ba, #ffdfba);
            border-radius: 12px 12px 4px 4px;
            z-index: 2;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }
        
        .layer {
            position: absolute;
            width: 100%;
            height: 30px;
            background: linear-gradient(135deg, #ff9aa2, #ffb7b2);
            border-radius: 12px 12px 0 0;
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .layer:nth-child(3) {
            bottom: 30px;
            width: 90%;
            left: 5%;
            background: linear-gradient(135deg, #ffc9aa, #ffdfba);
        }
        
        .icing {
            position: absolute;
            top: -12px;
            left: 0;
            width: 100%;
            height: 24px;
            background: linear-gradient(135deg, #fff, #ffb3d9);
            border-radius: 20px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }
        
        .candles {
            position: absolute;
            top: -60px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            justify-content: center;
            gap: 20px;
            width: 100%;
        }
        
        .candle {
            position: relative;
            width: 14px;
            height: 50px;
            background: linear-gradient(to right, #fd7e14, #ffc107);
            border-radius: 6px;
            z-index: 3;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .candle:hover {
            transform: scale(1.1);
        }
        
        .wax {
            position: absolute;
            top: 6px;
            left: 2px;
            width: 10px;
            height: 38px;
            background: linear-gradient(to right, #fff, #ffb3d9);
            border-radius: 4px;
        }
        
        .flame {
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 10px;
            height: 20px;
            background: radial-gradient(circle, #ffd700 0%, #ff6b35 70%);
            border-radius: 50% 50% 20% 20%;
            box-shadow: 
                0 0 10px #ffd700, 
                0 0 20px #ff6b35,
                0 0 30px rgba(255,107,53,0.3);
            opacity: 1;
            transition: all 0.6s ease;
            animation: flicker 2s infinite alternate;
        }
        
        @keyframes flicker {
            0% { 
                opacity: 1; 
                transform: translateX(-50%) scale(1); 
            }
            100% { 
                opacity: 0.9; 
                transform: translateX(-50%) scale(1.05); 
            }
        }
        
        .candle.blown .flame {
            opacity: 0;
            transform: translateX(-50%) scale(0);
        }
        
        .candle.blown::after {
            content: 'üí®';
            position: absolute;
            top: -25px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 1.2rem;
            animation: smoke 2s ease-out;
        }
        
        @keyframes smoke {
            0% { opacity: 0; transform: translateX(-50%) translateY(0); }
            50% { opacity: 1; }
            100% { opacity: 0; transform: translateX(-50%) translateY(-15px); }
        }
        
        /* Cake cutting enhanced */
        .cake-cutting-container {
            position: relative;
            width: 100%;
            max-width: 350px;
            height: 220px;
            margin: 20px auto;
            border-radius: 15px;
            overflow: hidden;
        }
        
        .cake-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
        }
        
        .knife {
            position: absolute;
            top: 60px;
            left: -40px;
            width: 80px;
            height: 20px;
            background: linear-gradient(45deg, #c0c0c0, #e8e8e8);
            border-radius: 10px 2px 2px 10px;
            transform: rotate(-20deg);
            cursor: grab;
            z-index: 10;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        
        .knife:hover {
            transform: rotate(-20deg) scale(1.1);
            box-shadow: 0 8px 20px rgba(0,0,0,0.4);
        }
        
        .knife:active {
            cursor: grabbing;
        }
        
        .knife::before {
            content: '';
            position: absolute;
            right: 3px;
            top: 2px;
            width: 12px;
            height: 16px;
            background: linear-gradient(45deg, #8b4513, #a0522d);
            border-radius: 2px;
        }
        
        .knife::after {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            width: 60px;
            height: 20px;
            background: linear-gradient(90deg, #e8e8e8, #f5f5f5, #c0c0c0);
            border-radius: 10px 2px 2px 10px;
            box-shadow: inset 0 2px 4px rgba(255,255,255,0.3);
        }
        
        .cut-line {
            position: absolute;
            height: 2px;
            background: linear-gradient(90deg, transparent, #333, transparent);
            z-index: 5;
            animation: cutGlow 1s ease-in-out;
        }
        
        @keyframes cutGlow {
            0% { box-shadow: none; }
            50% { box-shadow: 0 0 15px #333; }
            100% { box-shadow: none; }
        }
        
        /* Message page */
        .message-container {
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 30px 25px;
            box-shadow: 0 25px 80px rgba(255, 105, 135, 0.3);
            max-width: 400px;
            width: 100%;
            border: 2px solid rgba(255, 182, 193, 0.3);
            position: relative;
        }
        
        .message-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="15" cy="15" r="2" fill="%23ff6b9d" opacity="0.1"/><circle cx="85" cy="30" r="3" fill="%23c44569" opacity="0.1"/><circle cx="30" cy="85" r="2" fill="%23f8b500" opacity="0.1"/></svg>');
            pointer-events: none;
            border-radius: 20px;
        }
        
        .message-title {
            font-family: 'Dancing Script', cursive;
            font-size: 2.5rem;
            background: linear-gradient(45deg, #ff6b9d, #c44569);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 25px;
            text-align: center;
            font-weight: 700;
        }
        
        .love-letter {
            background: linear-gradient(135deg, rgba(255,255,255,0.9), rgba(248,249,250,0.9));
            border: 2px solid rgba(255,107,157,0.2);
            border-radius: 15px;
            padding: 25px 20px;
            box-shadow: 
                inset 0 2px 10px rgba(255,255,255,0.8),
                0 8px 25px rgba(0,0,0,0.1);
            position: relative;
            text-align: left;
            line-height: 1.7;
        }
        
        .love-letter::before {
            content: 'üíï';
            position: absolute;
            top: -8px;
            right: 15px;
            font-size: 1.5rem;
            animation: heartBeat 2s infinite;
        }
        
        @keyframes heartBeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.3); }
        }
        
        .letter-content p {
            margin-bottom: 15px;
            color: #444;
            font-size: 0.95rem;
            animation: fadeInUp 0.8s ease forwards;
            opacity: 0;
            transform: translateY(20px);
        }
        
        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .signature {
            font-family: 'Dancing Script', cursive;
            font-size: 1.5rem;
            background: linear-gradient(45deg, #ff6b9d, #c44569);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-top: 20px;
            text-align: right;
            font-weight: 600;
        }
        
        /* Memory gallery */
        .memory-gallery {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
            margin: 25px 0;
        }
        
        .memory-item {
            position: relative;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
            transition: all 0.4s ease;
            cursor: pointer;
        }
        
        .memory-item:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 15px 40px rgba(0,0,0,0.4);
        }
        
        .memory-img {
            height: 180px;
            background-size: cover;
            background-position: center;
            position: relative;
        }
        
        .memory-img::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(to bottom, transparent 50%, rgba(0,0,0,0.7));
        }
        
        .memory-caption {
            position: absolute;
            bottom: 12px;
            left: 12px;
            color: white;
            font-size: 1rem;
            font-weight: 600;
            z-index: 2;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
        }
        
        /* Button variations */
        .btn-success-custom {
            background: linear-gradient(45deg, #28a745, #20c997);
            border: none;
            color: white;
            padding: 14px 32px;
            font-size: 1.1rem;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 6px 20px rgba(40, 167, 69, 0.4);
            font-weight: 600;
        }
        
        .btn-success-custom:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(40, 167, 69, 0.6);
        }
        
        .btn-outline-custom {
            background: transparent;
            border: 2px solid #ff6b9d;
            color: #ff6b9d;
            padding: 10px 25px;
            font-size: 1rem;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            margin: 5px;
        }
        
        .btn-outline-custom:hover {
            background: #ff6b9d;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(255, 107, 157, 0.4);
        }
        
        /* Instructions */
        .instructions {
            color: #666;
            font-size: 1rem;
            margin-top: 15px;
            animation: pulse 2s infinite;
            text-align: center;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.6; }
        }
        
        /* Hidden utility class */
        .hidden {
            display: none !important;
        }
        
        /* Confetti */
        .confetti-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1000;
        }
        
        .confetti-piece {
            position: absolute;
            width: 8px;
            height: 8px;
            animation: confettiFall 3s linear infinite;
        }
        
        @keyframes confettiFall {
            0% {
                transform: translateY(-100vh) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(720deg);
                opacity: 0;
            }
        }
        
        /* Button row */
        .button-row {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin-top: 25px;
        }
        
        /* Responsive adjustments */
        @media (max-width: 480px) {
            .page {
                padding: 15px;
            }
            
            .welcome-card, .cake-section, .message-container {
                padding: 25px 20px;
                max-width: 100%;
            }
            
            .welcome-title {
                font-size: 2.5rem;
            }
            
            .birthday-wish {
                font-size: 1.8rem;
            }
            
            .message-title {
                font-size: 2rem;
            }
            
            .cake-container {
                width: 260px;
                height: 240px;
            }
            
            .cake {
                width: 200px;
                height: 130px;
            }
            
            .candles {
                gap: 15px;
            }
            
            .letter-content p {
                font-size: 0.9rem;
            }
            
            .btn-outline-custom {
                padding: 8px 20px;
                font-size: 0.9rem;
                margin: 3px;
            }
        }
    </style>
</head>
<body>
    <div class="love-background"></div>
    <div class="floating-hearts"></div>
    <div class="sparkles"></div>
    
    <!-- Welcome Page -->
    <div class="page active" id="welcome-page">
        <div class="welcome-card">
            <h1 class="welcome-title">Happy Birthday Kaivy! üéâ</h1>
            <p class="welcome-subtitle">Today is your special day, my love! ‚ú®</p>
            <button class="magic-btn" id="start-btn">
                üéÅ Start Your Surprise
            </button>
        </div>
    </div>

    <!-- Cake Page -->
    <div class="page" id="cake-page">
        <div class="cake-section">
            <h2 class="birthday-wish">Make a wish and blow out your candles! üïØÔ∏è</h2>
            <div class="cake-container">
                <div class="plate"></div>
                <div class="cake">
                    <div class="candles" id="candles">
                        <div class="candle" onclick="blowCandle(0)">
                            <div class="flame"></div>
                            <div class="wax"></div>
                        </div>
                        <div class="candle" onclick="blowCandle(1)">
                            <div class="flame"></div>
                            <div class="wax"></div>
                        </div>
                        <div class="candle" onclick="blowCandle(2)">
                            <div class="flame"></div>
                            <div class="wax"></div>
                        </div>
                        <div class="candle" onclick="blowCandle(3)">
                            <div class="flame"></div>
                            <div class="wax"></div>
                        </div>
                        <div class="candle" onclick="blowCandle(4)">
                            <div class="flame"></div>
                            <div class="wax"></div>
                        </div>
                    </div>
                    <div class="icing"></div>
                    <div class="layer"></div>
                    <div class="layer"></div>
                </div>
            </div>
            <div class="instructions" id="candle-instruction">Click on each candle to blow them out! üåü</div>
            <button class="btn-success-custom hidden" id="cut-cake-btn">
                üç∞ Let's Cut the Cake!
            </button>
        </div>
    </div>

    <!-- Cake Cutting Page -->
    <div class="page" id="cutting-page">
        <div class="cake-section">
            <h2 class="birthday-wish">Now let's cut the cake together! üéÇ</h2>
            <div class="cake-cutting-container">
                <img src="https://images.unsplash.com/photo-1578985545062-69928b1d9587?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80" alt="Birthday Cake" class="cake-img" id="cake-img">
                <div class="knife" id="knife"></div>
            </div>
            <div class="instructions" id="cut-instruction">Drag the knife across the cake to cut it! üî™</div>
            <button class="magic-btn hidden" id="see-message-btn">
                üíù See Your Special Message
            </button>
        </div>
    </div>

    <!-- Message Page -->
    <div class="page" id="message-page">
        <div class="message-container">
            <h1 class="message-title">Happy 25th Birthday Kavita! ‚ù§Ô∏è</h1>
            
            <div class="love-letter">
                <div class="letter-content">
                    <p style="animation-delay: 0.2s">My Dearest Kavita,</p>
                    
                    <p style="animation-delay: 0.4s">Today marks another wonderful year of your amazing life, and I couldn't be more grateful to be part of your journey. As you turn <strong style="color: #ff6b9d;">25</strong>, I want you to know that you bring so much joy, love, and light into my world every single day.</p>
                    
                    <p style="animation-delay: 0.6s">Your smile can brighten the darkest days, your laughter is my favorite melody, and your love is the greatest gift I could ever ask for. You are not just my girlfriend, you are my best friend, my confidant, and my biggest source of inspiration.</p>
                    
                    <p style="animation-delay: 0.8s">I love the way you care for everyone around you, how passionate you are about the things you believe in, and how you make even the ordinary moments feel extraordinary. Being with you has taught me what true love really means.</p>
                    
                    <p style="animation-delay: 1.0s">As you step into this new year of life, I promise to be right there beside you, supporting your dreams, celebrating your victories, and loving you more deeply with each passing day. You deserve all the happiness, success, and beautiful moments that life has to offer.</p>
                    
                    <p style="animation-delay: 1.2s">I created this little surprise because I wanted to do something special for someone who means everything to me. Just like how I write code to create something beautiful, you've written yourself into every line of my life's story.</p>
                    
                    <p style="animation-delay: 1.4s">Happy 25th Birthday, my love! Here's to many more years of adventures, laughter, and endless love together. ü•Ç</p>
                    
                    <p style="animation-delay: 1.6s"><strong style="color: #ff6b9d;">Thank you for being the most incredible person I know. I love you more than words can express! ‚ù§Ô∏è</strong></p>
                </div>
                
                <div class="signature" style="animation-delay: 1.8s">
                    With all my love and warmest birthday wishes,<br>
                    Your devoted boyfriend üíï
                </div>
            </div>
            
            <div class="button-row" style="animation-delay: 2.0s; opacity: 0; animation: fadeInUp 0.8s ease forwards;">
                <button class="btn-outline-custom" id="memory-btn">
                    üì∏ Our Memories
                </button>
            </div>
        </div>
    </div>

    <!-- Memories Page -->
    <div class="page" id="memories-page">
        <div class="message-container">
            <h2 class="birthday-wish">Some of Our Beautiful Memories üì∏</h2>
            <div class="memory-gallery">
                <div class="memory-item">
                    <div class="memory-img" style="background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url('https://images.unsplash.com/photo-1516589178581-6cd7833ae3b2?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60');">
                        <div class="memory-caption">The day we met ‚ú®</div>
                    </div>
                </div>
                <div class="memory-item">
                    <div class="memory-img" style="background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url('https://images.unsplash.com/photo-1494774157365-9e04c6720e47?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60');">
                        <div class="memory-caption">Our first date üíï</div>
                    </div>
                </div>
                <div class="memory-item">
                    <div class="memory-img" style="background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url('https://images.unsplash.com/photo-1529333166437-7750a6dd5a70?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60');">
                        <div class="memory-caption">Celebrating together üéâ</div>
                    </div>
                </div>
                <div class="memory-item">
                    <div class="memory-img" style="background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url('https://images.unsplash.com/photo-1518568814500-bf0f8d125f46?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60');">
                        <div class="memory-caption">Our adventures üåç</div>
                    </div>
                </div>
                <div class="memory-item">
                    <div class="memory-img" style="background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url('https://images.unsplash.com/photo-1511895426328-dc8714191300?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60');">
                        <div class="memory-caption">Quiet moments üíù</div>
                    </div>
                </div>
                <div class="memory-item">
                    <div class="memory-img" style="background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url('https://images.unsplash.com/photo-1522673607200-164d1b6ce486?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60');">
                        <div class="memory-caption">Making memories üì∑</div>
                    </div>
                </div>
            </div>
            <div class="button-row">
                <button class="magic-btn" id="back-to-message-btn">
                    üíå Back to Message
                </button>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let candlesBlown = 0;
        let isDragging = false;
        let cutMade = false;
        const totalCandles = 5;

        // Initialize everything when page loads
        document.addEventListener('DOMContentLoaded', function() {
            createFloatingHearts();
            createSparkles();
            initializeEventListeners();
            animateLetterContent();
        });

        // Create floating hearts
        function createFloatingHearts() {
            const heartsContainer = document.querySelector('.floating-hearts');
            const heartEmojis = ['‚ù§Ô∏è', 'üíï', 'üíñ', 'üíó', 'üíù', 'üíò', 'üíû', 'üíì'];
            
            setInterval(() => {
                if (Math.random() < 0.4) {
                    const heart = document.createElement('div');
                    heart.className = 'heart';
                    heart.innerHTML = heartEmojis[Math.floor(Math.random() * heartEmojis.length)];
                    heart.style.left = Math.random() * 100 + '%';
                    heart.style.animationDuration = (Math.random() * 4 + 6) + 's';
                    heart.style.fontSize = (Math.random() * 8 + 16) + 'px';
                    heartsContainer.appendChild(heart);
                    
                    setTimeout(() => {
                        heart.remove();
                    }, 10000);
                }
            }, 1200);
        }

        // Create sparkles
        function createSparkles() {
            const sparklesContainer = document.querySelector('.sparkles');
            const sparkleEmojis = ['‚ú®', 'üåü', 'üí´', '‚≠ê', 'üéÜ', 'üéá'];
            
            setInterval(() => {
                if (Math.random() < 0.3) {
                    const sparkle = document.createElement('div');
                    sparkle.className = 'sparkle';
                    sparkle.innerHTML = sparkleEmojis[Math.floor(Math.random() * sparkleEmojis.length)];
                    sparkle.style.left = Math.random() * 100 + '%';
                    sparkle.style.animationDuration = (Math.random() * 3 + 5) + 's';
                    sparkle.style.fontSize = (Math.random() * 6 + 14) + 'px';
                    sparklesContainer.appendChild(sparkle);
                    
                    setTimeout(() => {
                        sparkle.remove();
                    }, 8000);
                }
            }, 1500);
        }

        // Initialize all event listeners
        function initializeEventListeners() {
            // Page navigation
            document.getElementById('start-btn').addEventListener('click', () => showPage('cake-page'));
            document.getElementById('cut-cake-btn').addEventListener('click', () => showPage('cutting-page'));
            document.getElementById('see-message-btn').addEventListener('click', () => showPage('message-page'));
            document.getElementById('memory-btn').addEventListener('click', () => showPage('memories-page'));
            document.getElementById('back-to-message-btn').addEventListener('click', () => showPage('message-page'));

            // Cake cutting functionality
            const knife = document.getElementById('knife');
            knife.addEventListener('mousedown', startDrag);
            document.addEventListener('mousemove', dragKnife);
            document.addEventListener('mouseup', stopDrag);

            // Touch events for mobile
            knife.addEventListener('touchstart', startDrag, { passive: false });
            document.addEventListener('touchmove', dragKnife, { passive: false });
            document.addEventListener('touchend', stopDrag);
        }

        // Show specific page with smooth transition
        function showPage(pageId) {
            // Hide all pages
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
                setTimeout(() => {
                    page.classList.add('hidden');
                }, 300);
            });

            // Show target page
            setTimeout(() => {
                const targetPage = document.getElementById(pageId);
                targetPage.classList.remove('hidden');
                setTimeout(() => {
                    targetPage.classList.add('active');
                    
                    // Special animations for message page
                    if (pageId === 'message-page') {
                        animateLetterContent();
                    }
                }, 50);
            }, 350);
        }

        // Animate letter content when message page is shown
        function animateLetterContent() {
            setTimeout(() => {
                const paragraphs = document.querySelectorAll('.letter-content p, .signature');
                paragraphs.forEach((p, index) => {
                    setTimeout(() => {
                        p.style.animation = 'fadeInUp 0.8s ease forwards';
                    }, index * 200);
                });
            }, 500);
        }

        // Blow candle functionality
        function blowCandle(index) {
            const candles = document.querySelectorAll('.candle');
            const instruction = document.getElementById('candle-instruction');
            
            if (!candles[index].classList.contains('blown')) {
                candles[index].classList.add('blown');
                candlesBlown++;
                
                // Create smoke effect
                createSmokeEffect(candles[index]);
                
                if (candlesBlown === totalCandles) {
                    setTimeout(() => {
                        instruction.textContent = 'Amazing! All candles are blown out! üéâ';
                        instruction.style.color = '#28a745';
                        document.getElementById('cut-cake-btn').classList.remove('hidden');
                        createConfetti();
                    }, 500);
                } else {
                    instruction.textContent = `Great! ${totalCandles - candlesBlown} more to go! üåü`;
                }
            }
        }

        // Create smoke effect for blown candles
        function createSmokeEffect(candle) {
            const smoke = document.createElement('div');
            smoke.style.position = 'absolute';
            smoke.style.top = '-25px';
            smoke.style.left = '50%';
            smoke.style.transform = 'translateX(-50%)';
            smoke.style.fontSize = '1.2rem';
            smoke.innerHTML = 'üí®';
            smoke.style.opacity = '0';
            smoke.style.animation = 'smokeRise 2s ease-out forwards';
            candle.appendChild(smoke);
            
            setTimeout(() => {
                smoke.remove();
            }, 2000);
        }

        // Cake cutting drag functionality
        function startDrag(e) {
            if (cutMade) return;
            
            isDragging = true;
            e.preventDefault();
            
            const knife = document.getElementById('knife');
            knife.style.cursor = 'grabbing';
            knife.style.transform = 'rotate(-20deg) scale(1.1)';
        }

        function dragKnife(e) {
            if (!isDragging || cutMade) return;
            
            e.preventDefault();
            
            const knife = document.getElementById('knife');
            const container = document.querySelector('.cake-cutting-container');
            const containerRect = container.getBoundingClientRect();
            
            let clientX;
            if (e.type === 'mousemove') {
                clientX = e.clientX;
            } else if (e.type === 'touchmove') {
                clientX = e.touches[0].clientX;
            }
            
            const newLeft = clientX - containerRect.left - 40;
            const maxLeft = containerRect.width - 40;
            
            if (newLeft >= -40 && newLeft <= maxLeft) {
                knife.style.left = newLeft + 'px';
                
                // Check if cut is complete
                if (newLeft >= maxLeft - 30) {
                    completeCut();
                }
            }
        }

        function stopDrag() {
            if (cutMade) return;
            
            isDragging = false;
            const knife = document.getElementById('knife');
            knife.style.cursor = 'grab';
            knife.style.transform = 'rotate(-20deg) scale(1)';
        }

        // Complete the cake cutting
        function completeCut() {
            cutMade = true;
            isDragging = false;
            
            const container = document.querySelector('.cake-cutting-container');
            const cakeImg = document.getElementById('cake-img');
            const instruction = document.getElementById('cut-instruction');
            
            // Create cut line effect
            const cutLine = document.createElement('div');
            cutLine.className = 'cut-line';
            cutLine.style.width = '100%';
            cutLine.style.top = '110px';
            cutLine.style.left = '0';
            container.appendChild(cutLine);
            
            // Animate cake
            cakeImg.style.transform = 'translateY(5px) rotate(-1deg)';
            cakeImg.style.boxShadow = '0 15px 50px rgba(0,0,0,0.4)';
            
            // Update instruction and show button
            instruction.textContent = 'Perfect cut! The cake looks delicious! üç∞';
            instruction.style.color = '#28a745';
            
            setTimeout(() => {
                document.getElementById('see-message-btn').classList.remove('hidden');
                createConfetti();
            }, 1000);
        }

        // Create confetti effect
        function createConfetti() {
            const colors = ['#ff6b9d', '#c44569', '#f8b500', '#ff9ff3', '#54a0ff', '#5f27cd'];
            
            for (let i = 0; i < 80; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti-piece';
                    confetti.style.left = Math.random() * 100 + '%';
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.animationDelay = Math.random() * 2 + 's';
                    confetti.style.animationDuration = (Math.random() * 2 + 2.5) + 's';
                    
                    // Random shapes
                    if (Math.random() > 0.5) {
                        confetti.style.borderRadius = '50%';
                    }
                    
                    document.body.appendChild(confetti);
                    
                    setTimeout(() => {
                        confetti.remove();
                    }, 5000);
                }, i * 40);
            }
        }

        // Add custom CSS animations for smoke
        const style = document.createElement('style');
        style.textContent = `
            @keyframes smokeRise {
                0% { 
                    opacity: 0; 
                    transform: translateX(-50%) translateY(0) scale(0.8); 
                }
                50% { 
                    opacity: 1; 
                    transform: translateX(-50%) translateY(-10px) scale(1); 
                }
                100% { 
                    opacity: 0; 
                    transform: translateX(-50%) translateY(-20px) scale(1.2); 
                }
            }
        `;
        document.head.appendChild(style);

        // Add touch feedback for mobile
        document.addEventListener('touchstart', function() {}, { passive: true });
    </script>
</body>
</html>